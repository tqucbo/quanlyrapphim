#pragma checksum "D:\BIDC\quanlyrapphim\Views\Home\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "08ed74bc548bacd1865af768c766e0587c4b0cc2"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_Index), @"mvc.1.0.view", @"/Views/Home/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\BIDC\quanlyrapphim\Views\_ViewImports.cshtml"
using QuanLyRapPhim;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\BIDC\quanlyrapphim\Views\_ViewImports.cshtml"
using QuanLyRapPhim.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"08ed74bc548bacd1865af768c766e0587c4b0cc2", @"/Views/Home/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"da28ab41536e6812e7c21bd057d002424ef93500", @"/Views/_ViewImports.cshtml")]
    public class Views_Home_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<QuanLyRapPhim.Models.MultipleModelForHomeView>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 3 "D:\BIDC\quanlyrapphim\Views\Home\Index.cshtml"
  
    ViewData["Title"] = "Home Page";

    var listFilmBannerImage = Model.listFilmBannerImage;

    var top10NowShowing = Model.top10NowShowing;

    var top10ComingSoon = Model.top10ComingSoon;

    string createHtmlCarouselInnerForBanner()
    {
        string HtmlCarouselInner = "";

        foreach (var i in listFilmBannerImage)
        {
            if (listFilmBannerImage.IndexOf(i) == 0)
            {
                HtmlCarouselInner += $@"<div class = ""carousel-item active"">";
            }
            else
            {
                HtmlCarouselInner += $@"<div class = ""carousel-item"">";
            }
            HtmlCarouselInner += $@"
<img src=""/banner/{i}""
class=""d-block img-fluid""
style=""
width:100%;
height: 45vh;
object-fit: containt;"">
</div>";
        }

        return HtmlCarouselInner;
    };

    string createHtmlCarouselIndicatorForBanner()
    {
        string HtmlCarouselIndicator = "";
        for (var i = 0; i < listFilmBannerImage.Count; i++)
        {
            HtmlCarouselIndicator += $@"<li data-target=""#demo"" data-slide-to=""{i}""";
            if (i == 0)
            {
                HtmlCarouselIndicator += $@"class=""active""";
            }
            HtmlCarouselIndicator += $@"></li>";
        }
        return HtmlCarouselIndicator;
    }

    string createHtmlCarouselInnerForPoster(List<QuanLyRapPhim.Models.FilmModel> films)
    {
        string HtmlCarouselInner = "";

        foreach (var i in films)
        {
            var filmId = i.filmId;
            var filmGenre = string.IsNullOrEmpty(i.filmGenreId) ? "" : i.filmGenre.filmGenreName;
            var filmGenreStyle = string.IsNullOrEmpty(i.filmGenreId) ? "" : "width: 48px; height: 27px";
            var filmMainCategory = string.IsNullOrEmpty(i.filmMainCategoryId) ? "Chưa xác định" : i.filmMainCategory.filmMainCategoryName;
            var filmLength = i.filmLength == -1 ||  i.filmLength == 0 ? "Chưa xác định" : $"{i.filmLength} phút";
            var filmStartDate = i.filmStartDate.HasValue ? string.Format("{0:dd/MM/yyyy}", i.filmStartDate) : "Chưa xác định";
            var filmPosterImage = System.IO.File.Exists($"{System.IO.Path.Combine(System.IO.Directory.GetCurrentDirectory(), "wwwroot")}/poster/{i.filmPosterImage}") ? i.filmPosterImage : "noimageavailable.jpg";
            var filmName = i.filmName;
            var url = Url.Action("Index", "BuyTicket", new {filmId = filmId});

            if (films.IndexOf(i) == 0)
            {
                HtmlCarouselInner += $@"<div class = ""carousel-item active"">";
            }
            else
            {
                HtmlCarouselInner += $@"<div class = ""carousel-item"">";
            }
            HtmlCarouselInner += $@"
<div class=""row no-gutters flex"">           
    <div class=""col-auto"" style=""position: relative;"">
        <img src=""poster/{filmPosterImage}"" alt=""{filmName.ToUpper()}"" width=""197px"" height=""271px"">
        <span class=""rounded"" style=""position: absolute; top: 5px; left: 5px; {filmGenreStyle}; color: white; background-color: orange;"">
            <center>
                <strong style=""user-select: none;"">{filmGenre}</strong>
            </center>
        </span>
    </div>
    <div class=""col"" style=""padding-left: 25px; padding-right: 25px"">
        <span>
            <h4>{filmName.ToUpper()}</h4>
        </span>
        <div>
            <div>
                <span class=""font-weight-bold"">Thể loại : </span>
                <span>{filmMainCategory}</span>
            </div>
            <div>
                <span class=""font-weight-bold"">Thời lượng : </span>
                <span>{filmLength}</span>
            </div>
            <div>
                <span class=""font-weight-bold"">Khởi chiếu : </span>
                <span>{filmStartDate}</span>
            </div>
            <div class=""mt-3"">
            <a type=""submit"" 
                class=""btn btn-primary"" 
                href=""{url}"">
                        Mua vé
            </a>  
            </div> 
        </div>
    </div>
</div> 
</div>";
        }

        return HtmlCarouselInner;
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n<div id=\"banner\" class=\"carousel slide\" data-ride=\"carousel\">\r\n    <ul class=\"carousel-indicators\">\r\n        ");
#nullable restore
#line 124 "D:\BIDC\quanlyrapphim\Views\Home\Index.cshtml"
   Write(Html.Raw(createHtmlCarouselIndicatorForBanner()));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n    </ul>\r\n    <div class=\"carousel-inner\">\r\n        ");
#nullable restore
#line 127 "D:\BIDC\quanlyrapphim\Views\Home\Index.cshtml"
   Write(Html.Raw(createHtmlCarouselInnerForBanner()));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
    </div>
    <a class=""carousel-control-prev"" href=""#banner"" data-slide=""prev"">
        <span class=""carousel-control-prev-icon""></span>
    </a>
    <a class=""carousel-control-next"" href=""#banner"" data-slide=""next"">
        <span class=""carousel-control-next-icon""></span>
    </a>
</div>

<div class=""row no-gutters"">
    <div class=""mt-3 col-sm-6"">
        <h2>
            Đang chiếu
        </h2>
        <div id=""nowshowing"" class=""carousel slide carousel-multiple"" data-ride=""carousel"" data-maximum-items-per-slide=""5"">
            <div class=""carousel-inner"">
                ");
#nullable restore
#line 144 "D:\BIDC\quanlyrapphim\Views\Home\Index.cshtml"
           Write(Html.Raw(createHtmlCarouselInnerForPoster(Model.top10NowShowing)));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
            </div>
        </div>
    </div>
    <div class=""mt-3 col-sm-6"">
    <h2>
        Sắp chiếu
    </h2>
    <div id=""comingsoon"" class=""carousel slide carousel-multiple"" data-ride=""carousel"" data-maximum-items-per-slide=""5"">
        <div class=""carousel-inner"">
            ");
#nullable restore
#line 154 "D:\BIDC\quanlyrapphim\Views\Home\Index.cshtml"
       Write(Html.Raw(createHtmlCarouselInnerForPoster(Model.top10ComingSoon)));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n\r\n\r\n\r\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<QuanLyRapPhim.Models.MultipleModelForHomeView> Html { get; private set; }
    }
}
#pragma warning restore 1591
